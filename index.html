<!DOCTYPE html>
<html lang="en">
    <style>

    object.one{
        overflow-y: hidden;
        overflow-x: hidden;
    }

    nav{
        direction: ltr;
    }


        </style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herbal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
    <div class="logo">
          
        <img src="sources/logo al-azhar-herbaruim.png" alt="Logo" onclick="">
  
    </div>
    <button id="menu-toggle">‚ò∞</button>
    <nav id="navbar">
        <ul id="menu"></ul>
    </nav>
    <link rel="stylesheet" href="sources/search bar.css">
<center>
<form class="search-bar" onsubmit="return searchPage(event)">
    <input id="search-input" type="search" name="search" placeholder="Search species..." list="suggestions" required>
    <datalist id="suggestions"></datalist>
    <button class="search-btn" type="submit">
        üîç
    </button>
</form>
</center>


<script>
let allPages = [];

// Auto-load available pages from server
fetch("/list-pages")
    .then(res => res.json())
    .then(pages => {
        allPages = pages.map(p => p.toLowerCase()); // store lowercase for matching
        const suggestionList = document.getElementById("suggestions");
        pages.forEach(name => {
            const option = document.createElement("option");
            option.value = name;
            suggestionList.appendChild(option);
        });
    });

function searchPage(event) {
    event.preventDefault();
    const query = document.getElementById("search-input").value.trim().toLowerCase();
    if (!query) return;

    // Find closest match
    let match = allPages.find(p => p.includes(query));

    if (!match) {
        alert("No matching page found for: " + query);
        return;
    }

    const pagePath = `sources/${match}.html`;

    fetch(pagePath)
        .then(response => {
            if (response.ok) {
                document.getElementById("content-frame").data = pagePath;
            } else {
                alert("Page not found: " + match);
            }
        })
        .catch(() => {
            alert("Error loading page: " + match);
        });

    return false;
}
</script>



</header>

<!-- Content Area -->
<main id="content">
     
    <object class="one" id="content-frame"  width="100%" height="750px" data="main.html" ></object>
    <!--object class="one"  id="content-image"  width="100%" height="750px" ></object-->
</main>

<script src="script.js">


</script>

</body>
</html>
